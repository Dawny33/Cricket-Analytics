<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="utf-8">
    <title> D3 viz test </title>
    <script type="text/javascript" src="../d3/d3.js"></script>
    <style type="text/css">

    #chart {
      float: left;
    }

    #chart2 {
      overflow: hidden;
      padding-left: 30px;
      width: 300px;
    }

    #chart3 {
      overflow:hidden;
      margin-top: 30px;
      margin-left: 90px;
    }
    #pp {
      float: right;

    }

    </style>
  </head>

  <body>
    <u><h2>Analysis for India vs Pakistan match at Adelaide</h2></u>
    <div id="chart"></div>
    <div id="chart2">
        <p id="pp">xyz</p>
    </div>
    <div id="chart3"></div>

    <script type="text/javascript">
      var w = 200;
      var h = 200;
      var r = h/2;
      var color = d3.scale.category20c();

      var data = [{"label":"Category A", "value":4}, 
                    //{"label":"Category B", "value":50}, 
                    {"label":"Category C", "value":3}];

      var data2 = [{"label":"Category A", "value":46}, 
                    //{"label":"Category B", "value":50}, 
                    {"label":"Category C", "value":73}];

      var data3 = [{"label":"Category A", "value":8}, 
                    //{"label":"Category B", "value":50}, 
                    {"label":"Category C", "value":6}];


      var vis = d3.select('#chart').append("svg:svg").data([data]).attr("width", w).attr("height", h).append("svg:g").attr("transform", "translate(" + r + "," + r + ")");
      var pie = d3.layout.pie().value(function(d){return d.value;});

      // declare an arc generator function
      var arc = d3.svg.arc().outerRadius(r);
      var arcOver = d3.svg.arc()
              .outerRadius(r + 10);

      // select paths, use arc generator to draw
      var arcs = vis.selectAll("g.slice").data(pie).enter().append("svg:g").attr("class", "slice");
      arcs.append("svg:path")
          .attr("fill", function(d, i){
              return color(i);
          })
          .attr("d", function (d) {
              // log the result of the arc generator to show how cool it is :)
              console.log(arc(d));
              return arc(d);
          })
           .on("mouseenter", function(d) {
                  d3.select(this)
                     .attr("stroke","white")
                     .transition()
                     .duration(1000)
                     .attr("d", arcOver)             
                     .attr("stroke-width",6);
              })
              .on("mouseleave", function(d) {
                  d3.select(this).transition()            
                     .attr("d", arc)
                     .attr("stroke","none");
              });;

        // for the second chart
      var vis2 = d3.select('#chart2').append("svg:svg").data([data2]).attr("width", w).attr("height", h).append("svg:g").attr("transform", "translate(" + r + "," + r + ")");
      var pie2 = d3.layout.pie().value(function(d){return d.value;});

      // declare an arc generator function
      var arc2 = d3.svg.arc().outerRadius(r);
      var arcOver2 = d3.svg.arc()
              .outerRadius(r + 10);

      // select paths, use arc generator to draw
      var arcs2 = vis2.selectAll("g.slice").data(pie).enter().append("svg:g").attr("class", "slice");
      arcs2.append("svg:path")
          .attr("fill", function(d, i){
              return color(i);
          })
          .attr("d", function (d) {
              // log the result of the arc generator to show how cool it is :)
              console.log(arc2(d));
              return arc2(d);
          })
           .on("mouseenter", function(d) {
                  d3.select(this)
                     .attr("stroke","white")
                     .transition()
                     .duration(1000)
                     .attr("d", arcOver2)             
                     .attr("stroke-width",6);
              })
              .on("mouseleave", function(d) {
                  d3.select(this).transition()            
                     .attr("d", arc2)
                     .attr("stroke","none");
              });;

      var vis3 = d3.select('#chart3').append("svg:svg").data([data3]).attr("width", w).attr("height", h).append("svg:g").attr("transform", "translate(" + r + "," + r + ")");
      var pie3 = d3.layout.pie().value(function(d){return d.value;});

      // declare an arc generator function
      var arc3 = d3.svg.arc().outerRadius(r);
      var arcOver3 = d3.svg.arc()
              .outerRadius(r + 10);

      // select paths, use arc generator to draw
      var arcs3 = vis3.selectAll("g.slice").data(pie).enter().append("svg:g").attr("class", "slice");
      arcs3.append("svg:path")
          .attr("fill", function(d, i){
              return color(i);
          })
          .attr("d", function (d) {
              // log the result of the arc generator to show how cool it is :)
              console.log(arc3(d));
              return arc3(d);
          })
           .on("mouseenter", function(d) {
                  d3.select(this)
                     .attr("stroke","white")
                     .transition()
                     .duration(1000)
                     .attr("d", arcOver2)             
                     .attr("stroke-width",6);
              })
              .on("mouseleave", function(d) {
                  d3.select(this).transition()            
                     .attr("d", arc2)
                     .attr("stroke","none");
              });;

</script>
</body>
</html>
